# Uvicorn configuration for the 4th.GRC PolicyEngine service
#
# This file is intended to be used with:
#   uvicorn --config uvicorn.ini
#
# It configures the FastAPI app defined in
# `services/policyengine_svc.main:app` and is suitable as a
# baseline for local development, container images, or process
# managers (e.g., systemd, supervisor) that shell out to uvicorn.

[uvicorn]
# Import path to the ASGI application
app = services.policyengine_svc.main:app

# Network settings
host = 0.0.0.0
port = 8000

# Concurrency
# For containers or small VMs, start with 2â€“4 workers and tune
# based on CPU/memory and expected load.
workers = 4

# Reload is useful for local development; disable in production.
reload = false

# Logging
log-level = info

# Respect proxy headers when running behind a reverse proxy or
# Azure front door / API Management gateway.
proxy-headers = true
forwarded-allow-ips = *